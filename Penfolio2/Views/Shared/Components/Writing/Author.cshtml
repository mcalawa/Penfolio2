@model IEnumerable<Penfolio2.Models.AuthorViewModel>
@{
    int count = Model.Count();
}
<h4>By @for (int i = 0; i < count; i++){if (i == 0){if(Model.ElementAt(i).IsAnonymous){<span>@Model.ElementAt(i).DisplayName</span>}else{<span><a href="/Profile/@Model.ElementAt(i).UrlString">@Model.ElementAt(i).DisplayName</a></span>}}else if (count - 1 == i && count >= 3){if(Model.ElementAt(i).IsAnonymous){<span>, and @Model.ElementAt(i).DisplayName</span>}else{<span>, and <a href="/Profile/@Model.ElementAt(i).UrlString">@Model.ElementAt(i).DisplayName</a></span>}}else if (count - 1 == i){if(Model.ElementAt(i).IsAnonymous){<span> and @Model.ElementAt(i).DisplayName</span>}else{<span> and <a href="/Profile/@Model.ElementAt(i).UrlString">@Model.ElementAt(i).DisplayName</a></span>}}else{if(Model.ElementAt(i).IsAnonymous){<span>, @Model.ElementAt(i).DisplayName</span>}else{<span>, <a href="/Profile/@Model.ElementAt(i).UrlString">@Model.ElementAt(i).DisplayName</a></span>}}}</h4>